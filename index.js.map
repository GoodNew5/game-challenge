{"mappings":"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","sources":["<anon>","src/index.js","src/modules/slider.js","src/modules/rating_modal.js","src/helpers/getRatingPlayers.js","src/data.js","src/helpers/formatPlayerRatingRow.js","src/modules/moving_on_map.js"],"sourcesContent":["(() => {\nfunction $9d58f3e588a50717$export$b38bf4f33e9e4c25() {\n    const sliderTapeWrapper = document.querySelector(\".game-menu-slider__tape-wrapper--js\");\n    const sliderTape = document.querySelector(\".game-menu-slider__tape--js\");\n    const sliderNavPrevButton = document.querySelector(\".game-menu-slider__nav-prev-button--js\");\n    const sliderNavNextButton = document.querySelector(\".game-menu-slider__nav-next-button--js\");\n    const slides = [\n        ...sliderTapeWrapper.children\n    ];\n    const gap = 10;\n    let shiftWidth = getShiftWidth();\n    let sliderVisibleArea = sliderTape.offsetWidth;\n    let totalShiftWidth = shiftWidth * slides.length;\n    sliderTapeWrapper.style.gap = `${gap}px`;\n    let currentPosition = 0;\n    function getShiftWidth() {\n        const slide = slides[0];\n        return slide.offsetWidth + gap;\n    }\n    const moveTape = ()=>{\n        sliderTapeWrapper.style.transform = `translateX(-${currentPosition}px)`;\n    };\n    const handleSliderPrevButton = ()=>{\n        sliderNavNextButton.removeAttribute(\"disabled\");\n        shiftWidth = getShiftWidth();\n        if (currentPosition - shiftWidth < 0) return;\n        currentPosition -= shiftWidth;\n        sliderNavPrevButton.toggleAttribute(\"disabled\", currentPosition === 0);\n        moveTape();\n    };\n    const handleSliderNextButton = ()=>{\n        shiftWidth = getShiftWidth();\n        sliderVisibleArea = sliderTape.offsetWidth;\n        totalShiftWidth = shiftWidth * slides.length;\n        sliderNavPrevButton.removeAttribute(\"disabled\");\n        if (currentPosition + sliderVisibleArea >= totalShiftWidth) return;\n        currentPosition += shiftWidth;\n        sliderNavNextButton.toggleAttribute(\"disabled\", currentPosition + sliderVisibleArea >= totalShiftWidth);\n        moveTape();\n    };\n    sliderNavNextButton.toggleAttribute(\"disabled\", currentPosition + sliderVisibleArea >= totalShiftWidth);\n    sliderNavPrevButton.toggleAttribute(\"disabled\", currentPosition === 0);\n    sliderNavPrevButton.addEventListener(\"click\", (event)=>{\n        handleSliderPrevButton();\n    });\n    sliderNavNextButton.addEventListener(\"click\", (event)=>{\n        handleSliderNextButton();\n    });\n}\n\n\nconst $f3ee20e82a3b5f61$export$4051a07651545597 = {\n    \"rating\": [\n        {\n            \"id\": \"123\",\n            \"name\": \"\\u0412\\u043B\\u0430\\u0434\\u0438\\u043C\\u0438\\u0440\",\n            \"lastName\": \"\\u041B\\u0430\\u0440\\u0438\\u043E\\u043D\\u043E\\u0432\",\n            \"img\": \"./male.png\",\n            \"points\": \"463\"\n        },\n        {\n            \"id\": \"9\",\n            \"name\": \"\\u0412\\u043B\\u0430\\u0434\\u0438\\u043C\\u0438\\u0440\",\n            \"lastName\": \"\\u0421\\u0435\\u0440\\u0433\\u0435\\u0435\\u0432\",\n            \"img\": \"./male.png\",\n            \"points\": \"521\"\n        },\n        {\n            \"id\": \"231\",\n            \"name\": \"\\u0412\\u0435\\u043D\\u0438\\u0430\\u043C\\u0438\\u043D\",\n            \"lastName\": \"\\u0412\\u0430\\u0441\\u0438\\u043B\\u044C\\u0435\\u0432\",\n            \"img\": \"./male.png\",\n            \"points\": \"865\"\n        },\n        {\n            \"id\": \"321\",\n            \"name\": \"\\u041C\\u0430\\u0440\\u0438\\u044F\",\n            \"lastName\": \"\\u041B\\u043E\\u0433\\u0438\\u043D\\u043E\\u0432\\u0430\",\n            \"img\": \"./female.png\",\n            \"points\": \"865\"\n        },\n        {\n            \"id\": \"492\",\n            \"name\": \"\\u0411\\u043E\\u0440\\u0438\\u0441\",\n            \"lastName\": \"\\u041A\\u0430\\u0437\\u0430\\u043D\\u0446\\u0435\\u0432\",\n            \"img\": \"./male.png\",\n            \"points\": \"784\"\n        },\n        {\n            \"id\": \"452\",\n            \"name\": \"\\u041F\\u043E\\u043B\\u0438\\u043D\\u0430\",\n            \"lastName\": \"\\u041A\\u0430\\u043B\\u0438\\u043D\\u0438\\u043D\\u0430\",\n            \"img\": \"./female.png\",\n            \"points\": \"225\"\n        },\n        {\n            \"id\": \"796\",\n            \"name\": \"\\u0414\\u0430\\u043D\\u0438\\u0438\\u043B\",\n            \"lastName\": \"\\u0412\\u043E\\u0440\\u043E\\u0431\\u044C\\u0451\\u0432\",\n            \"img\": \"./male.png\",\n            \"points\": \"642\"\n        },\n        {\n            \"id\": \"4\",\n            \"name\": \"\\u042D\\u0440\\u0438\\u043A\",\n            \"lastName\": \"\\u0410\\u043A\\u0441\\u0451\\u043D\\u043E\\u0432\",\n            \"img\": \"./male.png\",\n            \"points\": \"150\"\n        },\n        {\n            \"id\": \"1155\",\n            \"name\": \"\\u0418\\u0432\\u0430\\u043D\",\n            \"lastName\": \"\\u0418\\u0432\\u0430\\u043D\\u043E\\u0432\",\n            \"img\": \"./male.png\",\n            \"points\": \"100\"\n        },\n        {\n            \"id\": \"12145\",\n            \"name\": \"\\u0410\\u0440\\u0442\\u0435\\u043C\",\n            \"lastName\": \"\\u0410\\u043B\\u0435\\u043A\\u0441\\u0435\\u0435\\u0432\",\n            \"img\": \"./male.png\",\n            \"points\": \"1000\"\n        }\n    ],\n    \"friends\": [\n        {\n            \"id\": \"9\",\n            \"name\": \"\\u0412\\u043B\\u0430\\u0434\\u0438\\u043C\\u0438\\u0440\",\n            \"lastName\": \"\\u0421\\u0435\\u0440\\u0433\\u0435\\u0435\\u0432\",\n            \"img\": \"./male.png\"\n        },\n        {\n            \"id\": \"4\",\n            \"name\": \"\\u042D\\u0440\\u0438\\u043A\",\n            \"lastName\": \"\\u0410\\u043A\\u0441\\u0451\\u043D\\u043E\\u0432\",\n            \"img\": \"./male.png\"\n        },\n        {\n            \"id\": \"15411\",\n            \"name\": \"\\u0418\\u0440\\u0438\\u043D\\u0430\",\n            \"lastName\": \"\\u0427\\u0435\\u0441\\u043D\\u043E\\u043A\\u043E\\u0432\\u0430\",\n            \"img\": \"./female.png\"\n        },\n        {\n            \"id\": \"15564\",\n            \"name\": \"\\u0414\\u0430\\u0440\\u0438\\u043D\\u0430\",\n            \"lastName\": \"\\u0411\\u043E\\u0431\\u0440\\u043E\\u0432\\u0430\",\n            \"img\": \"./female.png\"\n        }\n    ]\n};\n\n\nfunction $5c4ac84327149c03$export$c786ceb09ee6b64a() {\n    const { friends: friends, rating: rating } = (0, $f3ee20e82a3b5f61$export$4051a07651545597);\n    const clonedRating = [\n        ...rating\n    ];\n    const sortedRating = clonedRating.sort((a, b)=>Number(b.points) - Number(a.points));\n    let place = 1;\n    return sortedRating.map((player, index)=>{\n        if (index > 0 && player.points !== sortedRating[index - 1].points) place = index + 1;\n        return {\n            place: place,\n            ...player,\n            isFriend: !!friends.find((friend)=>player.id === friend.id)\n        };\n    });\n}\n\n\nfunction $460bc4b25c5ee5fd$export$6a580aebbd2f7226(player) {\n    const { place: place, lastName: lastName, name: name, points: points } = player;\n    return `<span class=\"game__rating-modal-row-cell game__rating-modal-row-cell--place\">\n            ${place}\n          </span>\n          <span class=\"game__rating-modal-row-cell game__rating-modal-row-cell--full-name\">\n            ${name} ${lastName}\n          </span>\n          <span class=\"game__rating-modal-row-cell game__rating-modal-row-cell--points\">\n            ${points}\n          </span>\n        `;\n}\n\n\nfunction $023ebd82bcdfe350$export$7f2f217039bd3b86() {\n    const ratingModalButton = document.querySelector('.game-menu__rating-button--js');\n    const ratingModal = document.querySelector('.game__rating-modal--js');\n    const ratingButtonClose = document.querySelector('.game__rating-modal-close-button--js');\n    const ratingModalContent = document.querySelector('.game__rating-modal-content-inner--js');\n    (0, $5c4ac84327149c03$export$c786ceb09ee6b64a)().forEach((player)=>{\n        const rowDiv = document.createElement('div');\n        rowDiv.classList.add('game__rating-modal-row');\n        if (player.isFriend) rowDiv.classList.add('game__rating-modal-row--friend');\n        rowDiv.innerHTML = (0, $460bc4b25c5ee5fd$export$6a580aebbd2f7226)(player);\n        ratingModalContent.appendChild(rowDiv);\n    });\n    ratingModalButton.addEventListener('click', (event)=>{\n        ratingModal.showModal();\n    });\n    ratingButtonClose.addEventListener('click', (event)=>{\n        ratingModal.close();\n    });\n    ratingModal.addEventListener('click', (event)=>{\n        if (event.target.nodeName !== 'DIALOG') return;\n        ratingModal.close();\n    });\n}\n\n\nfunction $05d87b678dc0a58c$export$69c5f68abd3a8ff4() {\n    const startButton = document.querySelector(\".game-menu__go-to-button--js\");\n    const character = document.querySelector(\".game__character-icon--js\");\n    const container = document.querySelector(\".game__map--js\");\n    const points = [\n        ...document.querySelectorAll(\".game__map-button--js\")\n    ];\n    function getRelativePosition(element) {\n        const characterRect = element.getBoundingClientRect();\n        const containerRect = container.getBoundingClientRect();\n        return {\n            x: characterRect.left - containerRect.left,\n            y: characterRect.top - containerRect.top\n        };\n    }\n    let index = 0;\n    let isActive = false;\n    function moveCharacter() {\n        if (!isActive) {\n            character.removeAttribute(\"style\");\n            index = 0;\n        }\n        if (index >= points.length) {\n            character.classList.remove(\"walking\");\n            startButton.removeAttribute(\"disabled\");\n            return;\n        }\n        const path = {\n            x: getRelativePosition(points[index]).x,\n            y: getRelativePosition(points[index]).y\n        };\n        const characterHeight = character.getBoundingClientRect().height;\n        const characterWidth = character.getBoundingClientRect().width;\n        const pointHeight = points[index].getBoundingClientRect().height;\n        const pointWidth = points[index].getBoundingClientRect().width;\n        let { x: startX, y: startY } = getRelativePosition(character);\n        let distanceX = path.x - startX - characterWidth / 2 + pointWidth;\n        let distanceY = path.y - startY - characterHeight + pointHeight;\n        let steps = 50;\n        let step = 0;\n        character.classList.add(\"walking\");\n        startButton.setAttribute(\"disabled\", 'true');\n        isActive = true;\n        function stepAnimation() {\n            if (step >= steps) {\n                index++;\n                moveCharacter();\n                return;\n            }\n            character.style.left = startX + distanceX * step / steps + \"px\";\n            character.style.top = startY + distanceY * step / steps + \"px\";\n            step++;\n            requestAnimationFrame(stepAnimation);\n        }\n        stepAnimation();\n    }\n    startButton.addEventListener(\"click\", ()=>{\n        isActive = !isActive;\n        moveCharacter();\n    });\n}\n\n\n(0, $05d87b678dc0a58c$export$69c5f68abd3a8ff4)();\n(0, $9d58f3e588a50717$export$b38bf4f33e9e4c25)();\n(0, $023ebd82bcdfe350$export$7f2f217039bd3b86)();\n\n})();\n//# sourceMappingURL=index.js.map\n","import { slider } from \"./modules/slider\"\nimport { ratingModal } from \"./modules/rating_modal\"\nimport { movingOnMap } from \"./modules/moving_on_map\"\n\nmovingOnMap()\nslider()\nratingModal()","\nexport function slider() {\n  const sliderTapeWrapper = document.querySelector(\".game-menu-slider__tape-wrapper--js\")\n  const sliderTape = document.querySelector(\".game-menu-slider__tape--js\")\n  const sliderNavPrevButton = document.querySelector(\".game-menu-slider__nav-prev-button--js\")\n  const sliderNavNextButton = document.querySelector(\".game-menu-slider__nav-next-button--js\")\n  const slides = [...sliderTapeWrapper.children]\n  const gap = 10\n  let shiftWidth = getShiftWidth()\n  let sliderVisibleArea = sliderTape.offsetWidth\n  let totalShiftWidth = shiftWidth * slides.length\n\n  sliderTapeWrapper.style.gap = `${gap}px`\n  let currentPosition = 0\n\n  function getShiftWidth()  {\n    const slide = slides[0]\n\n    return slide.offsetWidth + gap\n  }\n\n  const moveTape = () => {\n    sliderTapeWrapper.style.transform = `translateX(-${currentPosition}px)`\n  }\n\n  const handleSliderPrevButton = () => {\n    sliderNavNextButton.removeAttribute(\"disabled\")\n    shiftWidth = getShiftWidth()\n\n    if (currentPosition - shiftWidth < 0) return\n\n    currentPosition -= shiftWidth\n\n    sliderNavPrevButton.toggleAttribute(\"disabled\", currentPosition === 0)\n\n    moveTape()\n  }\n\n  const handleSliderNextButton = () => {\n    shiftWidth = getShiftWidth()\n    sliderVisibleArea = sliderTape.offsetWidth\n    totalShiftWidth = shiftWidth * slides.length\n    sliderNavPrevButton.removeAttribute(\"disabled\")\n\n    if (currentPosition + sliderVisibleArea >= totalShiftWidth) {\n      return\n    }\n\n    currentPosition += shiftWidth\n\n    sliderNavNextButton.toggleAttribute(\"disabled\", currentPosition + sliderVisibleArea >= totalShiftWidth);\n\n    moveTape()\n  }\n\n  sliderNavNextButton.toggleAttribute(\"disabled\", currentPosition + sliderVisibleArea >= totalShiftWidth)\n  sliderNavPrevButton.toggleAttribute(\"disabled\", currentPosition === 0)\n\n  sliderNavPrevButton.addEventListener(\"click\", (event) => {\n    handleSliderPrevButton()\n  })\n\n  sliderNavNextButton.addEventListener(\"click\", (event) => {\n    handleSliderNextButton()\n  })\n}\n\n\n","import { getRatingPlayers } from '../helpers/getRatingPlayers'\nimport { formatPlayerRatingRow } from \"../helpers/formatPlayerRatingRow\"\n\nexport function ratingModal() {\n  const ratingModalButton = document.querySelector('.game-menu__rating-button--js')\n  const ratingModal = document.querySelector('.game__rating-modal--js')\n  const ratingButtonClose = document.querySelector('.game__rating-modal-close-button--js')\n  const ratingModalContent = document.querySelector('.game__rating-modal-content-inner--js')\n\n  getRatingPlayers().forEach(player => {\n    const rowDiv = document.createElement('div')\n\n    rowDiv.classList.add('game__rating-modal-row')\n\n    if (player.isFriend) {\n      rowDiv.classList.add('game__rating-modal-row--friend')\n    }\n\n    rowDiv.innerHTML = formatPlayerRatingRow(player)\n\n    ratingModalContent.appendChild(rowDiv)\n  })\n\n  ratingModalButton.addEventListener('click', event => {\n    ratingModal.showModal()\n  })\n\n  ratingButtonClose.addEventListener('click', event => {\n    ratingModal.close()\n  })\n\n  ratingModal.addEventListener('click', event => {\n    if (event.target.nodeName !== 'DIALOG') return\n\n    ratingModal.close()\n  })\n\n}\n\n","import { data } from \"../data\"\n\nexport function getRatingPlayers() {\n  const { friends, rating } = data\n  const clonedRating = [...rating]\n  const sortedRating = clonedRating.sort((a, b) =>  Number(b.points) - Number(a.points))\n  let place = 1\n\n  return sortedRating\n  .map((player, index) => {\n    if (index > 0 && player.points !== sortedRating[index - 1].points) {\n      place = index + 1\n    }\n\n    return { place, ...player, isFriend: !!friends.find((friend) => player.id === friend.id) }\n  })\n}\n","export const data = {\r\n  \"rating\": [\r\n    {\r\n      \"id\": \"123\",\r\n      \"name\": \"Владимир\",\r\n      \"lastName\": \"Ларионов\",\r\n      \"img\": \"./male.png\",\r\n      \"points\": \"463\"\r\n    },\r\n    {\r\n      \"id\": \"9\",\r\n      \"name\": \"Владимир\",\r\n      \"lastName\": \"Сергеев\",\r\n      \"img\": \"./male.png\",\r\n      \"points\": \"521\"\r\n    },\r\n    {\r\n      \"id\": \"231\",\r\n      \"name\": \"Вениамин\",\r\n      \"lastName\": \"Васильев\",\r\n      \"img\": \"./male.png\",\r\n      \"points\": \"865\"\r\n    },\r\n    {\r\n      \"id\": \"321\",\r\n      \"name\": \"Мария\",\r\n      \"lastName\": \"Логинова\",\r\n      \"img\": \"./female.png\",\r\n      \"points\": \"865\"\r\n    },\r\n    {\r\n      \"id\": \"492\",\r\n      \"name\": \"Борис\",\r\n      \"lastName\": \"Казанцев\",\r\n      \"img\": \"./male.png\",\r\n      \"points\": \"784\"\r\n    },\r\n    {\r\n      \"id\": \"452\",\r\n      \"name\": \"Полина\",\r\n      \"lastName\": \"Калинина\",\r\n      \"img\": \"./female.png\",\r\n      \"points\": \"225\"\r\n    },\r\n    {\r\n      \"id\": \"796\",\r\n      \"name\": \"Даниил\",\r\n      \"lastName\": \"Воробьёв\",\r\n      \"img\": \"./male.png\",\r\n      \"points\": \"642\"\r\n    },\r\n    {\r\n      \"id\": \"4\",\r\n      \"name\": \"Эрик\",\r\n      \"lastName\": \"Аксёнов\",\r\n      \"img\": \"./male.png\",\r\n      \"points\": \"150\"\r\n    },\r\n    {\r\n      \"id\": \"1155\",\r\n      \"name\": \"Иван\",\r\n      \"lastName\": \"Иванов\",\r\n      \"img\": \"./male.png\",\r\n      \"points\": \"100\"\r\n    },\r\n    {\r\n      \"id\": \"12145\",\r\n      \"name\": \"Артем\",\r\n      \"lastName\": \"Алексеев\",\r\n      \"img\": \"./male.png\",\r\n      \"points\": \"1000\"\r\n    }\r\n  ],\r\n  \"friends\": [\r\n    {\r\n      \"id\": \"9\",\r\n      \"name\": \"Владимир\",\r\n      \"lastName\": \"Сергеев\",\r\n      \"img\": \"./male.png\"\r\n    },\r\n    {\r\n      \"id\": \"4\",\r\n      \"name\": \"Эрик\",\r\n      \"lastName\": \"Аксёнов\",\r\n      \"img\": \"./male.png\"\r\n    },\r\n    {\r\n      \"id\": \"15411\",\r\n      \"name\": \"Ирина\",\r\n      \"lastName\": \"Чеснокова\",\r\n      \"img\": \"./female.png\"\r\n    },\r\n    {\r\n      \"id\": \"15564\",\r\n      \"name\": \"Дарина\",\r\n      \"lastName\": \"Боброва\",\r\n      \"img\": \"./female.png\"\r\n    }\r\n  ]\r\n}","export function formatPlayerRatingRow(player) {\n  const { place, lastName, name, points } = player\n\n  return `<span class=\"game__rating-modal-row-cell game__rating-modal-row-cell--place\">\n            ${place}\n          </span>\n          <span class=\"game__rating-modal-row-cell game__rating-modal-row-cell--full-name\">\n            ${name} ${lastName}\n          </span>\n          <span class=\"game__rating-modal-row-cell game__rating-modal-row-cell--points\">\n            ${points}\n          </span>\n        `\n}","export function movingOnMap() {\n  const startButton = document.querySelector(\".game-menu__go-to-button--js\")\n  const character = document.querySelector(\".game__character-icon--js\")\n  const container = document.querySelector(\".game__map--js\")\n  const points = [...document.querySelectorAll(\".game__map-button--js\")]\n\n  function getRelativePosition(element) {\n    const characterRect = element.getBoundingClientRect()\n    const containerRect = container.getBoundingClientRect()\n\n    return {\n      x: characterRect.left - containerRect.left,\n      y: characterRect.top - containerRect.top,\n    }\n  }\n\n  let index = 0\n  let isActive = false\n\n  function moveCharacter() {\n    if (!isActive) {\n      character.removeAttribute(\"style\")\n      index = 0\n    }\n\n    if (index >= points.length) {\n      character.classList.remove(\"walking\")\n      startButton.removeAttribute(\"disabled\")\n\n      return\n    }\n\n    const path = {\n      x: getRelativePosition(points[index]).x,\n      y: getRelativePosition(points[index]).y,\n    }\n\n    const characterHeight = character.getBoundingClientRect().height\n    const characterWidth = character.getBoundingClientRect().width\n    const pointHeight = points[index].getBoundingClientRect().height\n    const pointWidth = points[index].getBoundingClientRect().width\n    let { x: startX, y: startY } = getRelativePosition(character)\n    let distanceX = path.x - startX - characterWidth / 2  + pointWidth\n    let distanceY = path.y - startY - characterHeight + pointHeight\n    let steps = 50\n    let step = 0\n\n    character.classList.add(\"walking\")\n    startButton.setAttribute(\"disabled\", 'true')\n    isActive = true\n\n    function stepAnimation() {\n      if (step >= steps) {\n        index++\n        moveCharacter()\n        return\n      }\n\n      character.style.left = startX + (distanceX * step / steps) + \"px\"\n      character.style.top = startY + (distanceY * step / steps) + \"px\"\n\n      step++\n      requestAnimationFrame(stepAnimation)\n    }\n\n    stepAnimation()\n  }\n\n  startButton.addEventListener(\"click\", () => {\n    isActive = !isActive\n    moveCharacter()\n  })\n}\n"],"names":["$f3ee20e82a3b5f61$export$4051a07651545597","startButton","document","querySelector","character","container","points","querySelectorAll","getRelativePosition","element","characterRect","getBoundingClientRect","containerRect","x","left","y","top","index","isActive","addEventListener","moveCharacter","removeAttribute","length","classList","remove","path","characterHeight","height","characterWidth","width","pointHeight","pointWidth","startX","startY","distanceX","distanceY","step","add","setAttribute","stepAnimation","style","requestAnimationFrame","sliderTapeWrapper","sliderTape","sliderNavPrevButton","sliderNavNextButton","slides","children","shiftWidth","getShiftWidth","sliderVisibleArea","offsetWidth","totalShiftWidth","gap","currentPosition","slide","moveTape","transform","handleSliderPrevButton","toggleAttribute","handleSliderNextButton","event","ratingModalButton","ratingModal","ratingButtonClose","ratingModalContent","friends","rating","sortedRating","clonedRating","sort","a","b","Number","place","map","player","isFriend","find","friend","id","forEach","rowDiv","createElement","innerHTML","lastName","name","appendChild","showModal","close","target","nodeName"],"version":3,"file":"index.js.map"}